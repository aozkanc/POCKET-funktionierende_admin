{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="container">
    <h2 class="page-title">ğŸ‘‹ Willkommen, {{ user.first_name }}!</h2>

    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <!-- ğŸ“ Eigene Projekte -->
    <div class="card mb-4">
        <div class="card-header bg-primary text-white">ğŸ“ Deine Projekte</div>
        <div class="card-body">
            {% if projekte %}
                <ul>
                    {% for p in projekte %}
                        <li>{{ p.projektname }} ({{ p.status }})</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>Du bist aktuell keinem Projekt zugewiesen.</p>
            {% endif %}
        </div>
    </div>

    <!-- ğŸ§³ Eigene Reisen -->
    <div class="card mb-4">
        <div class="card-header bg-info text-white">ğŸ§³ Deine Reisen</div>
        <div class="card-body">
            {% if reisen %}
                <ul>
                    {% for r in reisen %}
                        <li>{{ r.datum|date:"d.m.Y" }} â€“ {{ r.zielort }} ({{ r.kosten_fahrt|floatformat:2 }} â‚¬ Fahrtkosten)</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>Keine Reisen erfasst.</p>
            {% endif %}
        </div>
    </div>

    <!-- ğŸ“š Eigene Schulungen -->
    <div class="card mb-4">
        <div class="card-header bg-success text-white">ğŸ“š Deine Schulungen</div>
        <div class="card-body">
            {% if schulungen %}
                <ul>
                    {% for s in schulungen %}
                        <li>{{ s.schulungstitel }} ({{ s.kosten }} â‚¬)</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>Keine Schulungskosten erfasst.</p>
            {% endif %}
        </div>
    </div>

    <!-- ğŸ§¾ Eigene Abrechnungen -->
    <div class="card mb-4">
        <div class="card-header bg-secondary text-white">ğŸ§¾ Deine Abrechnungen</div>
        <div class="card-body">
            {% if abrechnungen %}
                <ul>
                    {% for a in abrechnungen %}
                        <li>{{ a.monat }} â€“ {{ a.netto_summe }} â‚¬ Netto</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>Keine Abrechnungen verfÃ¼gbar.</p>
            {% endif %}
        </div>
    </div>

</div>
{% endblock %}
